(function(t){function e(e){for(var r,o,s=e[0],u=e[1],i=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(f.length)f.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},c=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var i=0;i<s.length;i++)e(s[i]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"000f":function(t,e,n){},"0b3c":function(t,e,n){},1520:function(t,e,n){},"2d13":function(t,e,n){"use strict";n("9f81")},"2d57":function(t,e,n){},"34fc":function(t,e,n){},"3e40":function(t,e,n){"use strict";n("0b3c")},4103:function(t,e,n){"use strict";n("2d57")},4163:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(t,e,n,a,c,o){var s=Object(r["o"])("home"),u=Object(r["o"])("game");return t.isRunning?(Object(r["j"])(),Object(r["c"])(u,{key:1})):(Object(r["j"])(),Object(r["c"])(s,{key:0}))}var c=n("5502"),o=n("cf05"),s=n.n(o),u=function(t){return Object(r["l"])("data-v-322b0512"),t=t(),Object(r["k"])(),t},i={class:"container"},l=u((function(){return Object(r["f"])("div",{class:"logo"},[Object(r["f"])("img",{src:s.a})],-1)})),d=u((function(){return Object(r["f"])("div",{class:"heading"},"Dart Scoreboard",-1)}));function f(t,e,n,a,c,o){var s=Object(r["o"])("game-menu");return Object(r["j"])(),Object(r["e"])("div",i,[l,d,Object(r["g"])(s)])}var b={class:"menu"};function h(t,e,n,a,c,o){var s=Object(r["o"])("game-type-select"),u=Object(r["o"])("player-select");return Object(r["j"])(),Object(r["e"])("div",b,[Object(r["g"])(s),Object(r["g"])(u),Object(r["f"])("div",{class:"start",onClick:e[0]||(e[0]=function(){return t.startGame&&t.startGame.apply(t,arguments)})},"Start")])}var p=function(t){return Object(r["l"])("data-v-19470bc9"),t=t(),Object(r["k"])(),t},j={class:"container"},O={class:"type-select"},m=["onClick"],y={key:0,class:"double-options"},v=["checked"],g=p((function(){return Object(r["f"])("label",{for:"swd"},"Start with Double",-1)})),k=["checked"],C=p((function(){return Object(r["f"])("label",{for:"ewd"},"End with Double",-1)}));function R(t,e,n,a,c,o){return Object(r["j"])(),Object(r["e"])("div",j,[Object(r["f"])("div",O,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(t.types,(function(e,n){return Object(r["j"])(),Object(r["e"])("div",{key:n,class:Object(r["i"])({box:!0,selected:n===t.selected}),onClick:function(t){return o.changeGameType(n)}},Object(r["p"])(e.initialScore),11,m)})),128))]),t.enableDoublesRule?(Object(r["j"])(),Object(r["e"])("div",y,[Object(r["f"])("div",null,[(Object(r["j"])(),Object(r["e"])("input",{id:"swd",type:"checkbox",checked:t.swd,key:t.uiUpdateHack,onChange:e[0]||(e[0]=function(){return o.onChangeGameType&&o.onChangeGameType.apply(o,arguments)})},null,40,v)),g]),Object(r["f"])("div",null,[(Object(r["j"])(),Object(r["e"])("input",{id:"ewd",type:"checkbox",checked:t.ewd,key:t.uiUpdateHack,onChange:e[1]||(e[1]=function(){return o.onChangeGameType&&o.onChangeGameType.apply(o,arguments)})},null,40,k)),C])])):Object(r["d"])("",!0)])}var S=n("5530"),w=(n("d3b7"),n("159b"),{name:"GameTypeSelect",data:function(){return{selected:1,types:[{initialScore:101,swd:!1,ewd:!1},{initialScore:301,swd:!0,ewd:!0},{initialScore:501,swd:!1,ewd:!0}],swd:!1,ewd:!1,uiUpdateHack:1}},created:function(){var t=this;this.types.forEach((function(e,n){var r=e.initialScore;t.selectedInitialScore===r&&(t.selected=n)})),this.updateDoubleOptions()},computed:Object(c["d"])({selectedInitialScore:function(t){return t.gameOptions.initialScore},enableDoublesRule:function(t){return t.gameOptions.enableDoublesRule}}),methods:Object(S["a"])(Object(S["a"])({},Object(c["c"])(["updateGameOptions"])),{},{changeGameType:function(t){this.selected=t,this.updateDoubleOptions(),this.onChangeGameType()},updateDoubleOptions:function(){this.swd=this.types[this.selected].swd,this.ewd=this.types[this.selected].ewd,this.uiUpdateHack=1-this.uiUpdateHack},onChangeGameType:function(){this.updateGameOptions({initialScore:this.types[this.selected].initialScore,swd:this.swd,ewd:this.ewd})}})}),P=(n("cdce"),n("6b0d")),D=n.n(P);const I=D()(w,[["render",R],["__scopeId","data-v-19470bc9"]]);var N=I,_=function(t){return Object(r["l"])("data-v-78d6c838"),t=t(),Object(r["k"])(),t},G=_((function(){return Object(r["f"])("label",null,"Players",-1)})),x=_((function(){return Object(r["f"])("option",{value:2},"2",-1)})),T=_((function(){return Object(r["f"])("option",{value:3},"3",-1)})),F=_((function(){return Object(r["f"])("option",{value:4},"4",-1)})),A=_((function(){return Object(r["f"])("option",{value:5},"5",-1)})),U=[x,T,F,A],E=["onUpdate:modelValue","placeholder"];function M(t,e,n,a,c,o){return Object(r["j"])(),Object(r["e"])("div",null,[Object(r["f"])("div",null,[G,Object(r["t"])(Object(r["f"])("select",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.count=e}),onChange:e[1]||(e[1]=function(){return o.onChangePlayersInfo&&o.onChangePlayersInfo.apply(o,arguments)})},U,544),[[r["q"],t.count]])]),(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(t.count,(function(n){return Object(r["j"])(),Object(r["e"])("div",{class:"name",key:n},[Object(r["f"])("label",null,"Player"+Object(r["p"])(n),1),Object(r["t"])(Object(r["f"])("input",{"onUpdate:modelValue":function(e){return t.names[n-1]=e},type:"text",placeholder:"Player".concat(n),onChange:e[2]||(e[2]=function(){return o.onChangePlayersInfo&&o.onChangePlayersInfo.apply(o,arguments)})},null,40,E),[[r["r"],t.names[n-1]]])])})),128))])}var B={name:"PlayerSelect",data:function(){return{count:2,names:[]}},created:function(){this.count=this.totalPlayers,this.names=this.playerNames},computed:Object(c["d"])(["totalPlayers","playerNames"]),methods:Object(S["a"])(Object(S["a"])({},Object(c["b"])(["updatePlayersInfo"])),{},{onChangePlayersInfo:function(){this.updatePlayersInfo({count:this.count,names:this.names})}})};n("bf09");const H=D()(B,[["render",M],["__scopeId","data-v-78d6c838"]]);var J=H,K={name:"Menu",components:{GameTypeSelect:N,PlayerSelect:J},methods:Object(c["c"])(["startGame"])};n("2d13");const L=D()(K,[["render",h],["__scopeId","data-v-31b813ba"]]);var V=L,z={name:"Home",components:{GameMenu:V}};n("3e40");const q=D()(z,[["render",f],["__scopeId","data-v-322b0512"]]);var Q=q,W={key:1,class:"container"},X={style:{display:"flex","column-gap":"10px"}},Y={class:"current-player"},Z={key:0,class:"closest-darts"};function $(t,e,n,a,c,o){var s=Object(r["o"])("game-over"),u=Object(r["o"])("current-round"),i=Object(r["o"])("score-board"),l=Object(r["o"])("score-input");return t.gameover?(Object(r["j"])(),Object(r["c"])(s,{key:0})):(Object(r["j"])(),Object(r["e"])("div",W,[Object(r["f"])("div",X,[Object(r["f"])("div",Y,Object(r["p"])(t.playerName),1),t.closestDarts?(Object(r["j"])(),Object(r["e"])("div",Z,Object(r["p"])(t.closestDarts),1)):Object(r["d"])("",!0)]),Object(r["f"])("div",{class:Object(r["i"])({undo:!0,disabled:t.disableUndo}),onClick:e[0]||(e[0]=function(){return o.undo&&o.undo.apply(o,arguments)})},"UNDO",2),Object(r["g"])(u),Object(r["g"])(i),Object(r["g"])(l)]))}n("b0c0");var tt=function(t){return Object(r["l"])("data-v-536b2dff"),t=t(),Object(r["k"])(),t},et={class:"container"},nt=tt((function(){return Object(r["f"])("div",{class:"heading"},"Game Over",-1)})),rt={class:"rankings"},at=tt((function(){return Object(r["f"])("tr",{class:"thead"},[Object(r["f"])("td",null,"Rank"),Object(r["f"])("td",null,"Player"),Object(r["f"])("td",{class:"center"},"Best Round")],-1)})),ct={class:"center"},ot={class:"buttons"};function st(t,e,n,a,c,o){return Object(r["j"])(),Object(r["e"])("div",et,[nt,Object(r["f"])("div",rt,[Object(r["f"])("table",null,[at,(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(t.totalPlayers,(function(t){return Object(r["j"])(),Object(r["e"])("tr",{key:t},[Object(r["f"])("td",null,Object(r["p"])(o.formattedRank(t)),1),Object(r["f"])("td",null,Object(r["p"])(o.name(t-1)),1),Object(r["f"])("td",ct,Object(r["p"])(o.bestRound(t-1)),1)])})),128))])]),Object(r["f"])("div",ot,[Object(r["f"])("div",{onClick:e[0]||(e[0]=function(){return t.startGame&&t.startGame.apply(t,arguments)})},"REMATCH"),Object(r["f"])("div",{onClick:e[1]||(e[1]=function(){return t.showMenu&&t.showMenu.apply(t,arguments)})},"BACK TO MENU")])])}n("d81d"),n("4e82"),n("cb29"),n("a15b");var ut={name:"GameOver",computed:Object(S["a"])(Object(S["a"])({},Object(c["d"])({totalPlayers:function(t){return t.gameController.playerController.total},names:function(t){return t.gameController.playerController.names},bestRounds:function(t){return t.gameController.playerController.bestRounds},ranks:function(t){return t.gameController.playerController.ranks}})),{},{rankedOrder:function(){var t=this;return Array(this.totalPlayers).fill().map((function(e,n){return{i:n,rank:t.ranks[n]}})).sort((function(t,e){return t.rank-e.rank})).map((function(t){var e=t.i;return e}))}}),methods:Object(S["a"])(Object(S["a"])({},Object(c["c"])(["startGame","showMenu"])),{},{formattedRank:function(t){return"".concat(t,1===t?"st":2===t?"nd":3===t?"rd":"th")},name:function(t){var e=this.rankedOrder[t];return this.names[e]||"Player".concat(e+1)},bestRound:function(t){var e=this,n=this.rankedOrder[t];return Array(3).fill().map((function(t,r){return e.bestRounds[n][r]||"-"})).join(" ")}})};n("befd");const it=D()(ut,[["render",st],["__scopeId","data-v-536b2dff"]]);var lt=it,dt={class:"darts"};function ft(t,e,n,a,c,o){return Object(r["j"])(),Object(r["e"])("div",dt,[(Object(r["j"])(),Object(r["e"])(r["a"],null,Object(r["n"])(3,(function(e){return Object(r["f"])("div",{key:e,class:Object(r["i"])(["row",o.shotClass(e-1)])},Object(r["p"])(t.darts[e-1]?t.darts[e-1]:"-"),3)})),64))])}var bt={name:"CurrentRound",computed:Object(c["d"])({darts:function(t){return t.gameController.dartController.darts},isFoul:function(t){return t.gameController.dartController.isFoul}}),methods:{shotClass:function(t){return this.isFoul?"foul":this.darts[t]?"valid":""}}};n("7013");const ht=D()(bt,[["render",ft],["__scopeId","data-v-7f05849b"]]);var pt=ht,jt=function(t){return Object(r["l"])("data-v-f7031648"),t=t(),Object(r["k"])(),t},Ot={class:"scoreboard"},mt=jt((function(){return Object(r["f"])("tr",{class:"heading"},[Object(r["f"])("td",null,"Player"),Object(r["f"])("td"),Object(r["f"])("td",{class:"center"},"Score"),Object(r["f"])("td",{class:"center",style:{"font-size":"14px"}},"Best Round"),Object(r["f"])("td",{class:"center",style:{"font-size":"14px"}},"Last Round")],-1)})),yt={class:"center"},vt={class:"center",style:{"font-size":"14px"}};function gt(t,e,n,a,c,o){return Object(r["j"])(),Object(r["e"])("div",Ot,[Object(r["f"])("table",null,[mt,(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(t.totalPlayers,(function(e){return Object(r["j"])(),Object(r["e"])("tr",{key:e,class:Object(r["i"])({curr:e-1===t.currentPlayer})},[Object(r["f"])("td",null,Object(r["p"])(t.names[e-1]||"Player".concat(e)),1),Object(r["f"])("td",null,Object(r["p"])(o.rank(e-1)),1),Object(r["f"])("td",yt,Object(r["p"])(t.scores[e-1]),1),Object(r["f"])("td",vt,Object(r["p"])(o.bestRound(e-1)),1),Object(r["f"])("td",{class:Object(r["i"])({center:!0,foul:t.lastRoundFouls[e-1]}),style:{"font-size":"14px"}},Object(r["p"])(o.lastRound(e-1)),3)],2)})),128))])])}var kt={name:"ScoreBoard",computed:Object(S["a"])({},Object(c["d"])({currentPlayer:function(t){return t.gameController.currentPlayer},totalPlayers:function(t){return t.gameController.playerController.total},names:function(t){return t.gameController.playerController.names},scores:function(t){return t.gameController.playerController.scores},bestRounds:function(t){return t.gameController.playerController.bestRounds},lastRounds:function(t){return t.gameController.playerController.lastRounds},lastRoundFouls:function(t){return t.gameController.playerController.lastRoundFouls},ranks:function(t){return t.gameController.playerController.ranks}})),methods:{bestRound:function(t){var e=this;return Array(3).fill().map((function(n,r){return e.bestRounds[t][r]||"-"})).join(" ")},lastRound:function(t){var e=this;return Array(3).fill().map((function(n,r){return e.lastRounds[t][r]||"-"})).join(" ")},rank:function(t){var e=this.ranks[t];return e<1||e>this.totalPlayers?"":"".concat(e,1===e?"st":2===e?"nd":3===e?"rd":"th")}}};n("591e");const Ct=D()(kt,[["render",gt],["__scopeId","data-v-f7031648"]]);var Rt=Ct,St={class:"scoreinput"},wt={class:"input"},Pt=["onClick"],Dt={class:"input"},It=["onClick"],Nt=["onClick"];function _t(t,e,n,a,c,o){return Object(r["j"])(),Object(r["e"])("div",St,[Object(r["f"])("div",wt,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(t.input1a,(function(e){return Object(r["j"])(),Object(r["e"])("div",{key:e,class:Object(r["i"])({box:!0,selected:t.select1===e}),onClick:function(t){return o.handleInput1Click(e)}},Object(r["p"])(e),11,Pt)})),128))]),Object(r["f"])("div",Dt,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(t.input1b,(function(e){return Object(r["j"])(),Object(r["e"])("div",{key:e,class:Object(r["i"])({box:!0,selected:t.select1===e}),onClick:function(t){return o.handleInput1Click(e)}},Object(r["p"])(e),11,It)})),128))]),Object(r["f"])("div",{class:Object(r["i"])({input:!0,input2:!0,disabled:o.isInput2Disabled})},[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(t.input2,(function(e){return Object(r["j"])(),Object(r["e"])("div",{key:e,class:Object(r["i"])({box:!0,selected:t.select2===e}),onClick:function(t){return o.handleInput2Click(e)}},Object(r["p"])(e),11,Nt)})),128))],2)])}n("caad"),n("2532");var Gt={name:"ScoreInput",data:function(){return{input1a:["B","BE","✗"],input1b:["S","D","T"],input2:Array(20).fill().map((function(t,e){return e+1})),select1:null,select2:null}},computed:Object(S["a"])(Object(S["a"])({},Object(c["d"])(["gameController"])),{},{isInput2Disabled:function(){return!this.input1b.includes(this.select1)}}),methods:{handleInput1Click:function(t){this.select1=t,this.isInput2Disabled&&this.updateCurrentDart(this.select1)},handleInput2Click:function(t){this.isInput2Disabled||(this.select2=t,this.updateCurrentDart(this.select1+this.select2))},updateCurrentDart:function(t){var e=this;this.gameController.throwDart(t),setTimeout((function(){e.select1=null,e.select2=null}),100)}}};n("9bed");const xt=D()(Gt,[["render",_t],["__scopeId","data-v-b02a05ec"]]);var Tt=xt,Ft={name:"Game",components:{GameOver:lt,CurrentRound:pt,ScoreBoard:Rt,ScoreInput:Tt},computed:Object(c["d"])({playerName:function(t){return t.gameController.currentPlayerName},gameController:function(t){return t.gameController},disableUndo:function(t){return 0===t.gameController.history.length},gameover:function(t){return t.gameController.gameover},closestDarts:function(t){return t.gameController.closestDarts}}),methods:{undo:function(){this.gameController.undo()}}};n("91df");const At=D()(Ft,[["render",$],["__scopeId","data-v-5a51fcd7"]]);var Ut=At,Et={name:"App",components:{Home:Q,Game:Ut},computed:Object(c["d"])({isRunning:function(t){return t.isGameRunning}})};n("4103");const Mt=D()(Et,[["render",a]]);var Bt=Mt,Ht=(n("25eb"),n("a9e3"),n("9129"),n("e9c4"),n("1da1")),Jt=n("d4ec"),Kt=n("bee2"),Lt=(n("96cf"),n("2909")),Vt=(n("99af"),n("fb6a"),n("eed6")),zt=n.n(Vt);function qt(t){return["S","D","T"].indexOf(t)+1}var Qt=zt()([].concat(Object(Lt["a"])(Array(20).fill().map((function(t,e){return e+1}))),Object(Lt["a"])(Array(20).fill().map((function(t,e){return 2*(e+1)}))),Object(Lt["a"])(Array(20).fill().map((function(t,e){return 3*(e+1)}))),[25,50])).sort((function(t,e){return t-e})),Wt=function(){function t(e){Object(Jt["a"])(this,t),this.darts=[],this.isFoul=!1,this.swd=e.swd,this.ewd=e.ewd,this.enableDoublesRule=e.enableDoublesRule}return Object(Kt["a"])(t,[{key:"state",get:function(){return{darts:Object(Lt["a"])(this.darts),isFoul:this.isFoul}}},{key:"isLastShot",get:function(){return 3===this.darts.length}},{key:"remaining",get:function(){return 3-this.darts.length}},{key:"reset",value:function(){this.darts=[],this.isFoul=!1}},{key:"throw",value:function(e){this.darts.push(e);var n=t.calcScore(e);return n}},{key:"foul",value:function(t){this.isFoul=t}},{key:"restoreState",value:function(t){this.darts=t.darts,this.isFoul=t.isFoul}}],[{key:"calcScore",value:function(t){return"✗"===t?0:"B"===t?25:"BE"===t?50:qt(t[0])*t.slice(1)}},{key:"sumScore",value:function(t){var e=this;return t.reduce((function(t,n){return t+e.calcScore(n)}),0)}},{key:"getStr",value:function(t){return 25===t?"B":50===t?"BE":t<=20?"S".concat(t):t%3===0&&t/3<=20?"T".concat(t/3):"D".concat(t/2)}},{key:"getMinimumDartsToFinish",value:function(e){if(Qt.includes(e))return[t.getStr(e)];for(var n=Qt.length-1;n>=0;n-=1)for(var r=Qt.length-1;r>=0;r-=1){var a=Qt[n]+Qt[r];if(a===e)return[n,r].map((function(e){return t.getStr(Qt[e])}))}for(var c=Qt.length-1;c>=0;c-=1)for(var o=Qt.length-1;o>=0;o-=1)for(var s=Qt.length-1;s>=0;s-=1){var u=Qt[c]+Qt[o]+Qt[s];if(u===e)return[c,o,s].map((function(e){return t.getStr(Qt[e])}))}return[]}}]),t}(),Xt=Wt,Yt=n("ade3"),Zt=(n("4de4"),function(){function t(e){Object(Jt["a"])(this,t),this.curr=0,this.total=e.total,this.names=e.names,this.currRoundScores=Array(this.total).fill(0),this.remainingScores=Array(this.total).fill(e.initialScore),this.bestRounds=Array(this.total).fill().map((function(){return[]})),this.lastRounds=Array(this.total).fill().map((function(){return[]})),this.lastRoundFouls=Array(this.total).fill(!1),this.ranks=Array(this.total).fill(t.UNRANKED),this._rank=1}return Object(Kt["a"])(t,[{key:"state",get:function(){return{curr:this.curr,currRoundScore:this.currRoundScores[this.curr],remainingScore:this.remainingScores[this.curr],bestRound:Object(Lt["a"])(this.bestRounds[this.curr]),lastRound:Object(Lt["a"])(this.lastRounds[this.curr]),lastRoundFouls:this.lastRoundFouls[this.curr]}}},{key:"currName",get:function(){return this.names[this.curr]||"Player".concat(this.curr+1)}},{key:"ranked",get:function(){return this.ranks[this.curr]!==t.UNRANKED}},{key:"gameover",get:function(){var e=this.ranks.filter((function(e){return e===t.UNRANKED})).length;return e<=1}},{key:"remaining",get:function(){return this.remainingScores[this.curr]-this.currRoundScores[this.curr]}},{key:"scores",get:function(){var t=this;return this.remainingScores.map((function(e,n){return e-t.currRoundScores[n]}))}},{key:"next",value:function(){var t=0;do{this.curr=(this.curr+1)%this.total,t+=1}while(this.ranked&&t<this.total)}},{key:"updateScore",value:function(t,e){this.currRoundScores[this.curr]+=t;var n=this.currRoundScores[this.curr],r=this.remainingScores[this.curr]-n;return r<0?(this.currRoundScores[this.curr]=0,!0):((e||0===r)&&(this.remainingScores[this.curr]=r,this.currRoundScores[this.curr]=0),0===r&&(this.ranks[this.curr]=this._rank,this._rank+=1),!1)}},{key:"updateLastRound",value:function(t){this.lastRounds[this.curr]=t.darts,this.lastRoundFouls[this.curr]=t.isFoul,t.isFoul||this.updateBestRound(t.darts)}},{key:"updateBestRound",value:function(t){var e=Xt.sumScore(this.bestRounds[this.curr]),n=Xt.sumScore(t);n>=e&&(this.bestRounds[this.curr]=t)}},{key:"restoreState",value:function(t){this.curr=t.curr,this.currRoundScores[this.curr]=t.currRoundScore,this.remainingScores[this.curr]=t.remainingScore,this.bestRounds[this.curr]=t.bestRound,this.lastRounds[this.curr]=t.lastRound,this.lastRoundFouls[this.curr]=t.lastRoundFouls}}]),t}());Object(Yt["a"])(Zt,"UNRANKED",999);var $t=Zt,te=function(t){return new Promise((function(e){return setTimeout(e,t)}))},ee=function(){function t(e){Object(Jt["a"])(this,t),this.dartController=new Xt({swd:e.swd,ewd:e.ewd,enableDoublesRule:e.enableDoublesRule}),this.playerController=new $t({total:e.totalPlayers,names:e.playerNames,initialScore:e.initialScore}),this.history=[],this.gameover=!1,this._canThrow=!0}return Object(Kt["a"])(t,[{key:"currentPlayer",get:function(){return this.playerController.curr}},{key:"currentPlayerName",get:function(){return this.playerController.currName}},{key:"EOR",get:function(){return this.playerController.ranked||this.dartController.isFoul||this.dartController.isLastShot}},{key:"closestDarts",get:function(){var t=this.playerController.remaining;if(t>180)return"";var e=Xt.getMinimumDartsToFinish(t);return e.length>this.dartController.remaining?"":e.join(", ")}},{key:"throwDart",value:function(){var t=Object(Ht["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this._canThrow){t.next=2;break}return t.abrupt("return");case 2:if(this._canThrow=!1,this.updateHistory(),n=this.dartController.throw(e),r=this.playerController.updateScore(n,this.dartController.isLastShot),this.dartController.foul(r),!this.EOR){t.next=10;break}return t.next=10,this.handleEndOfRound();case 10:this._canThrow=!0;case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleEndOfRound",value:function(){var t=Object(Ht["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,te(300);case 2:this.playerController.updateLastRound(this.dartController.state),this.playerController.next(),this.dartController.reset(),this.gameover=this.playerController.gameover;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateHistory",value:function(){var t={dart:this.dartController.state,player:this.playerController.state};this.history.push(t)}},{key:"isStateValid",value:function(t){if(!t)return!0;var e=this.playerController.ranks[t.player.curr];return e===$t.UNRANKED}},{key:"popHistory",value:function(){var t;do{t=this.history.pop()}while(!this.isStateValid(t));return t}},{key:"undo",value:function(){var t=this.popHistory();t&&(this.dartController.restoreState(t.dart),this.playerController.restoreState(t.player))}}]),t}(),ne=ee;function re(t,e,n){return t<e?e:t>n?n:t}function ae(){var t=Number.parseInt(localStorage.getItem("totalPlayers"),10);return Number.isNaN(t)?2:t}function ce(){try{return JSON.parse(localStorage.getItem("playerNames"))||[]}catch(t){return[]}}function oe(){var t={initialScore:501,swd:!1,ewd:!0};try{return JSON.parse(localStorage.getItem("gameOptions"))||t}catch(e){return t}}var se=Object(c["a"])({state:{gameController:null,totalPlayers:ae(),playerNames:ce(),gameOptions:oe(),enableDoublesRule:!1,isGameRunning:!1},mutations:{updateTotalPlayers:function(t,e){t.totalPlayers=e,localStorage.setItem("totalPlayers",e)},updatePlayerNames:function(t,e){t.playerNames=e,localStorage.setItem("playerNames",JSON.stringify(e))},updateGameOptions:function(t,e){t.gameOptions=e,localStorage.setItem("gameOptions",JSON.stringify(e))},startGame:function(t){t.isGameRunning=!0,t.gameController=new ne(Object(S["a"])({totalPlayers:t.totalPlayers,playerNames:t.playerNames,enableDoublesRule:t.enableDoublesRule},t.gameOptions))},showMenu:function(t){t.isGameRunning=!1}},actions:{updatePlayersInfo:function(t,e){var n=t.commit,r=e.count,a=e.names,c=re(r,2,5),o=Array(c).fill().map((function(t,e){return a[e]||null}));n("updateTotalPlayers",c),n("updatePlayerNames",o)}}});Object(r["b"])(Bt).use(se).mount("#app")},"591e":function(t,e,n){"use strict";n("68a0")},6881:function(t,e,n){},"68a0":function(t,e,n){},"6b44":function(t,e,n){},7013:function(t,e,n){"use strict";n("6881")},"91df":function(t,e,n){"use strict";n("34fc")},"9bed":function(t,e,n){"use strict";n("6b44")},"9f81":function(t,e,n){},befd:function(t,e,n){"use strict";n("1520")},bf09:function(t,e,n){"use strict";n("4163")},cdce:function(t,e,n){"use strict";n("000f")},cf05:function(t,e,n){t.exports=n.p+"img/logo.c3ef84b6.png"}});
//# sourceMappingURL=app.859531a8.js.map